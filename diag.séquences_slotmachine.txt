@startuml
title Diagramme de sÃ©quence â€“ Machine Ã  sous ğŸ° avec mise et banque

actor "Utilisateur" as User
participant "MainActivity" as Main
participant "SlotMachineActivity" as Slot
participant "Player" as Player
participant "BankActivity" as Bank

== Lancement du jeu ==
User -> Main : Lance l'application
activate Main
User -> Main : SÃ©lectionne "Machine Ã  sous"
Main -> Slot : startActivity(Intent)
deactivate Main
activate Slot

== OpÃ©rations au sein de la Banque ==
User -> Slot:Clique sur "Banque"
Slot -> Bank: startActivity(BanqueActivity)
activate Bank
Bank -> Player:Lit le solde actuel
Player-->>Bank:Donne le solde actuel
Bank -->> User:Affiche le solde actuel
deactivate Bank


== Partie de machine Ã  sous ==
User -> Slot : Clique sur "Mise"
User -> Slot : Entre la mise
Slot -> Player: Met Ã  jour la mise

activate Slot
Player -->> User: Affiche la mise
activate Slot
User -> Slot : Appuie sur manivelle
Slot -> Player: soustrait la mise
activate Player
Player --> Bank: Montant mis Ã  jour
deactivate Player
Slot -> Slot : GÃ©nÃ¨re les symboles alÃ©atoires
Slot -> Slot : Affiche les rÃ©sultats

alt Gain
    Slot -> Player : CrÃ©diter les gains
    activate Player
    Player --> Bank : Solde mis Ã  jour
    Player -->> User : Affiche les gains
    deactivate Player
else Perte
    Slot -> Player : DÃ©biter les pertes
    activate Player
    Player --> Bank : Solde mis Ã  jour
    Player -->> User : Affiche les pertes
    deactivate Player
end
deactivate Slot



== Retour au menu ==
User -> Slot : Appuie sur "Retour"
activate Slot
Slot -> Main : finish(), retour au menu
deactivate Slot
activate Main
deactivate Main


@enduml
