@startuml
title Diagramme de séquence – Machine à sous 🎰 avec mise et banque

actor "Utilisateur" as User
participant "MainActivity" as Main
participant "SlotMachineActivity" as Slot
participant "Player" as Player
participant "BankActivity" as Bank

== Lancement du jeu ==
User -> Main : Lance l'application
activate Main
User -> Main : Sélectionne "Machine à sous"
Main -> Slot : startActivity(Intent)
deactivate Main
activate Slot

== Opérations au sein de la Banque ==
User -> Slot:Clique sur "Banque"
Slot -> Bank: startActivity(BanqueActivity)
activate Bank
Bank -> Player:Lit le solde actuel
Player-->>Bank:Donne le solde actuel
Bank -->> User:Affiche le solde actuel
deactivate Bank


== Partie de machine à sous ==
User -> Slot : Clique sur "Mise"
User -> Slot : Entre la mise
Slot -> Player: Met à jour la mise

activate Slot
Player -->> User: Affiche la mise
activate Slot
User -> Slot : Appuie sur manivelle
Slot -> Player: soustrait la mise
activate Player
Player --> Bank: Montant mis à jour
deactivate Player
Slot -> Slot : Génère les symboles aléatoires
Slot -> Slot : Affiche les résultats

alt Gain
    Slot -> Player : Créditer les gains
    activate Player
    Player --> Bank : Solde mis à jour
    Player -->> User : Affiche les gains
    deactivate Player
else Perte
    Slot -> Player : Débiter les pertes
    activate Player
    Player --> Bank : Solde mis à jour
    Player -->> User : Affiche les pertes
    deactivate Player
end
deactivate Slot



== Retour au menu ==
User -> Slot : Appuie sur "Retour"
activate Slot
Slot -> Main : finish(), retour au menu
deactivate Slot
activate Main
deactivate Main


@enduml
